{% extends 'base.html.twig' %}

{% block title %}Hello CardController!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">
    <h1>Mon panier</h1>

    {% if carts | length > 0 %}
       {% set total = null %}
       {% for item  in carts %}
      {% set total = +(item.product.price * item.quantity) %}
       
          <div class="product_cart"> 
            <p>{{item.product.name}}</p>
            <p>{{item.product.brand}}</p>
              <p>{{item.product.price}}€</p>
            <p>Prix {{ total}}</p>
            <p>Quantité {{item.quantity}}</p>
              <a href="{{path("cart_increment",{"id":item.product.id})}}">
              <button class="btn btn-primary">+</button>
            </a> 
            <a href="{{path("cart_decrease",{"id":item.product.id})}}">
              <button class="btn btn-primary">-</button>
            </a> 
        
            <a href="{{path("cart_remove",{"id":item.product.id})}}">
              <button class="btn btn-primary">effacer</button>
            </a> 
          </div>

          <h4>Nombre de produits dans le panier {{ carts | length }}</h4>
    {% endfor %}

    {% else %}


    <h2> Votre panier est vide ajouter des produits</h2>

    {% endif %}






  
</div>
{% endblock %}
